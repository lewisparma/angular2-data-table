!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/common"),require("@angular/core"),require("rxjs/Rx")):"function"==typeof define&&define.amd?define("angular2-data-table",["@angular/common","@angular/core","rxjs/Rx"],e):"object"==typeof exports?exports["angular2-data-table"]=e(require("@angular/common"),require("@angular/core"),require("rxjs/Rx")):t["angular2-data-table"]=e(t["@angular/common"],t["@angular/core"],t["rxjs/Rx"])}(this,function(t,e,n){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s="./src/index.ts")}({"./src/components/body/body-cell.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/models/index.ts"),a=n("./src/utils/index.ts"),l=n("./src/services/index.ts"),c=function(){function t(t){this.state=t}return Object.defineProperty(t.prototype,"cssClasses",{get:function(){var t="datatable-body-cell",e=this.sortDir;return e&&(t+=" sort-active sort-"+e),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.column.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){var t=this.state.options.rowHeight;return isNaN(t)?t:t+"px"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDir",{get:function(){var t=this,e=this.state.options.sorts.find(function(e){return e.prop===t.column.prop});if(e)return e.dir},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){if(!this.row)return"";var t=a.deepValueGetter(this.row,this.column.prop),e=this.column.pipe;return e?e.transform(t):t},enumerable:!0,configurable:!0}),o([r.Input(),i("design:type",s.TableColumn)],t.prototype,"column",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"row",void 0),o([r.HostBinding("class"),i("design:type",String)],t.prototype,"cssClasses",null),o([r.HostBinding("style.width.px"),i("design:type",Object)],t.prototype,"width",null),o([r.HostBinding("style.height"),i("design:type",Object)],t.prototype,"height",null),t=o([r.Component({selector:"datatable-body-cell",template:'\n    <div class="datatable-body-cell-label">\n      <span\n        *ngIf="!column.cellTemplate"\n        [innerHTML]="value">\n      </span>\n      <template\n        *ngIf="column.cellTemplate"\n        [ngTemplateOutlet]="column.cellTemplate"\n        [ngOutletContext]="{ value: value, row: row, column: column }">\n      </template>\n    </div>\n  '}),i("design:paramtypes",[l.StateService])],t)}();e.DataTableBodyCell=c},"./src/components/body/body-row-wrapper.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/services/index.ts"),a=function(){function t(t,e,n){this.element=t,this.state=e,n.setElementClass(this.element.nativeElement,"datatable-row-wrapper",!0)}return o([r.Input(),i("design:type",Object)],t.prototype,"row",void 0),t=o([r.Component({selector:"datatable-row-wrapper",template:'\n        <ng-content></ng-content>\n        <div *ngIf="row.$$expanded === 1 && state.options.rowDetailTemplate"\n              [style.height]="state.options.detailRowHeight +  \'px\'" \n              class="datatable-row-detail">\n          <template\n            [ngTemplateOutlet]="state.options.rowDetailTemplate"\n            [ngOutletContext]="{ row: row}">\n          </template>\n        </div>\n    '}),i("design:paramtypes",[r.ElementRef,s.StateService,r.Renderer])],t)}();e.DataTableRowWrapper=a},"./src/components/body/body-row.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/utils/index.ts"),a=n("./src/services/index.ts"),l=function(){function t(t,e,n){this.state=t,n.setElementClass(e.nativeElement,"datatable-body-row",!0)}return Object.defineProperty(t.prototype,"isSelected",{get:function(){return this.state.selected&&this.state.selected.indexOf(this.row)>-1},enumerable:!0,configurable:!0}),t.prototype.trackColBy=function(t,e){return e.$$id},t.prototype.stylesByGroup=function(t){var e=this.state.columnGroupWidths,n=this.state.offsetX,o={width:e[t]+"px"};if("left"===t)s.translateXY(o,n,0);else if("right"===t){var i=e.total-this.state.innerWidth,r=i-n,a=(r+this.state.scrollbarWidth)*-1;s.translateXY(o,a,0)}return o},o([r.Input(),i("design:type",Object)],t.prototype,"row",void 0),o([r.HostBinding("class.active"),i("design:type",Object)],t.prototype,"isSelected",null),t=o([r.Component({selector:"datatable-body-row",template:'\n    <div>\n      <div\n        class="datatable-row-left datatable-row-group"\n        *ngIf="state.columnsByPin.left.length"\n        [ngStyle]="stylesByGroup(\'left\')"\n        [style.width]="state.columnGroupWidths.left + \'px\'">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.left; trackBy: trackColBy"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div\n        class="datatable-row-center datatable-row-group"\n        [style.width]="state.columnGroupWidths.center + \'px\'"\n        [ngStyle]="stylesByGroup(\'center\')"\n        *ngIf="state.columnsByPin.center.length">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.center; trackBy: trackColBy"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n      <div\n        class="datatable-row-right datatable-row-group"\n        *ngIf="state.columnsByPin.right.length"\n        [ngStyle]="stylesByGroup(\'right\')"\n        [style.width]="state.columnGroupWidths.right + \'px\'">\n        <datatable-body-cell\n          *ngFor="let column of state.columnsByPin.right; trackBy: trackColBy"\n          [row]="row"\n          [column]="column">\n        </datatable-body-cell>\n      </div>\n    </div>\n  '}),i("design:paramtypes",[a.StateService,r.ElementRef,r.Renderer])],t)}();e.DataTableBodyRow=l},"./src/components/body/body.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/utils/index.ts"),a=n("./src/services/index.ts"),l=n("./src/types/index.ts"),c=n("./src/directives/index.ts"),p=function(){function t(t,e,n){this.state=t,this.onRowClick=new r.EventEmitter,this.onRowSelect=new r.EventEmitter,n.setElementClass(e.nativeElement,"datatable-body",!0)}return Object.defineProperty(t.prototype,"selectEnabled",{get:function(){return!!this.state.options.selectionType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyHeight",{get:function(){return this.state.options.scrollbarV?this.state.bodyHeight+"px":"auto"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bodyWidth",{get:function(){return this.state.options.scrollbarH?this.state.innerWidth+"px":"100%"},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.rows=this.state.rows.slice(),this.updateRows(),this.sub=this.state.onPageChange.subscribe(function(e){if(t.updateRows(),t.hideIndicator(),t.state.options.scrollbarV&&"pager-event"===e.type){var n=e.limit*e.offset;t.scroller.setOffset(t.state.rowHeightsCache.query(n-1))}}),this.sub.add(this.state.onExpandChange.subscribe(function(e){if(t.state.options.scrollbarV&&e.rows.length>1){var n=t.state.rowHeightsCache.query(e.currentIndex);setTimeout(function(){return t.scroller.setOffset(n)})}})),this.sub.add(this.state.onRowsUpdate.subscribe(function(e){t.updateRows(),t.hideIndicator()})),this.sub.add(this.state.onSortChange.subscribe(function(){t.scroller.setOffset(0)}))},t.prototype.trackRowBy=function(t,e){return e.$$index},t.prototype.onBodyScroll=function(t){this.state.offsetY=t.scrollYPos,this.state.offsetX=t.scrollXPos,this.updatePage(t.direction),this.updateRows()},t.prototype.updatePage=function(t){var e=this.state.indexes,n=e.first/this.state.pageSize;"up"===t?n=Math.floor(n):"down"===t&&(n=Math.ceil(n)),void 0===t||isNaN(n)||this.state.setPage({type:"body-event",value:n+1})},t.prototype.updateRows=function(t){var e=this.state.indexes,n=0,o=e.first,i=t?this.state.rowCount:e.last-e.first;for(this.rows=this.rows.slice(0,i);o<e.last&&o<this.state.rowCount;){var r=this.state.rows[o];r&&(r.$$index=o,this.rows[n]=r),n++,o++}},t.prototype.getRowHeight=function(t){return this.state.options.rowHeight+(1===t.$$expanded?this.state.options.detailRowHeight:0)},t.prototype.getRowsStyles=function(t){var e=this.getRowHeight(t),n={height:e+"px"};if(this.state.options.scrollbarV){var o=t?t.$$index:0,i=this.state.rowHeightsCache.query(o-1);s.translateXY(n,0,i)}return n},t.prototype.hideIndicator=function(){var t=this;setTimeout(function(){return t.state.options.loadingIndicator=!1},500)},t.prototype.rowClicked=function(t,e,n){var o="dblclick"===t.type?l.ClickType.double:l.ClickType.single;this.onRowClick.emit({type:o,event:t,row:n}),this.selectRow(t,e,n)},t.prototype.rowKeydown=function(t,e,n){if(t.keyCode===s.Keys.return&&this.selectEnabled)this.selectRow(t,e,n);else if(t.keyCode===s.Keys.up||t.keyCode===s.Keys.down){var o=t.keyCode===s.Keys.up?t.target.previousElementSibling:t.target.nextElementSibling;o&&o.focus()}},t.prototype.selectRow=function(t,e,n){if(this.selectEnabled){var o=this.state.options.selectionType===l.SelectionType.multiShift,i=this.state.options.selectionType===l.SelectionType.multi,r=[];if(o||i)if(o&&t.shiftKey){var a=this.state.selected.slice();r=s.selectRowsBetween(a,this.rows,e,this.prevIndex)}else if(o&&!t.shiftKey)r.push(n);else{var a=this.state.selected.slice();r=s.selectRows(a,n)}else r.push(n);this.prevIndex=e,this.onRowSelect.emit(r)}},t.prototype.ngOnDestroy=function(){this.sub&&this.sub.unsubscribe()},o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onRowClick",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onRowSelect",void 0),o([r.ViewChild(c.Scroller),i("design:type",c.Scroller)],t.prototype,"scroller",void 0),o([r.HostBinding("style.height"),i("design:type",Object)],t.prototype,"bodyHeight",null),o([r.HostBinding("style.width"),i("design:type",Object)],t.prototype,"bodyWidth",null),t=o([r.Component({selector:"datatable-body",template:'\n    <div>\n      <datatable-progress\n        *ngIf="state.options.loadingIndicator">\n      </datatable-progress>\n      <div\n        scroller\n        (onScroll)="onBodyScroll($event)"\n        *ngIf="state.rows.length"\n        [rowHeight]="state.options.rowHeight"\n        [scrollbarV]="state.options.scrollbarV"\n        [scrollbarH]="state.options.scrollbarH"\n        [count]="state.rowCount"\n        [scrollHeight]="state.scrollHeight"\n        [limit]="state.options.limit"\n        [scrollWidth]="state.columnGroupWidths.total">\n        <datatable-row-wrapper \n          *ngFor="let row of rows; let i = index; trackBy: trackRowBy"\n          [ngStyle]="getRowsStyles(row)"\n          [style.height]="getRowHeight(row) + \'px\'"\n          [row]="row">\n          <datatable-body-row\n            [attr.tabindex]="i"\n            [style.height]="state.options.rowHeight +  \'px\'"\n            (click)="rowClicked($event, i, row)"\n            (dblclick)="rowClicked($event, i, row)"\n            (keydown)="rowKeydown($event, i, row)"\n            [row]="row"\n            [class.datatable-row-even]="row.$$index % 2 === 0"\n            [class.datatable-row-odd]="row.$$index % 2 !== 0">\n          </datatable-body-row>\n        </datatable-row-wrapper>\n      </div>\n      <div\n        class="empty-row"\n        *ngIf="!rows.length"\n        [innerHTML]="state.options.emptyMessage">\n      </div>\n    </div>\n  '}),i("design:paramtypes",[a.StateService,r.ElementRef,r.Renderer])],t)}();e.DataTableBody=p},"./src/components/body/progress-bar.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(){}return t=o([r.Component({selector:"datatable-progress",template:'\n    <div class="progress-linear" role="progressbar">\n      <div class="container">\n        <div class="bar"></div>\n      </div>\n    </div>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}),i("design:paramtypes",[])],t)}();e.ProgressBar=s},"./src/components/datatable-column.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(){}return Object.defineProperty(t.prototype,"hasHeaderTemplate",{get:function(){return 2===this.templates.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerTemplate",{get:function(){if(this.hasHeaderTemplate)return this.templates.first},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cellTemplate",{get:function(){return this.hasHeaderTemplate?this.templates.last:this.templates.first},enumerable:!0,configurable:!0}),o([r.Input(),i("design:type",Object)],t.prototype,"name",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"prop",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"isExpressive",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"frozenLeft",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"frozenRight",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"flexGrow",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"resizeable",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"comparator",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"pipe",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"sortable",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"draggable",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"canAutoResize",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"minWidth",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"width",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"maxWidth",void 0),o([r.ContentChildren(r.TemplateRef),i("design:type",r.QueryList)],t.prototype,"templates",void 0),t=o([r.Directive({selector:"datatable-column"}),i("design:paramtypes",[])],t)}();e.DataTableColumn=s},"./src/components/datatable-row-detail-template.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(){}return Object.defineProperty(t.prototype,"rowDetailTemplate",{get:function(){return this.template},enumerable:!0,configurable:!0}),o([r.ContentChild(r.TemplateRef),i("design:type",r.TemplateRef)],t.prototype,"template",void 0),t=o([r.Directive({selector:"datatable-row-detail-template"}),i("design:paramtypes",[])],t)}();e.DatatableRowDetailTemplate=s},"./src/components/datatable.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=this&&this.__param||function(t,e){return function(n,o){e(n,o,t)}},s=n(0),a=n("./src/utils/index.ts"),l=n("./src/types/index.ts"),c=n("./src/models/index.ts"),p=n("./src/components/datatable-column.directive.ts"),u=n("./src/services/index.ts"),d=n("./src/components/datatable-row-detail-template.directive.ts"),h=function(){function t(t,e,n,o){this.state=t,this.onPageChange=new s.EventEmitter,this.onRowsUpdate=new s.EventEmitter,this.onRowClick=new s.EventEmitter,this.onSelectionChange=new s.EventEmitter,this.onColumnChange=new s.EventEmitter,this.element=n.nativeElement,e.setElementClass(this.element,"datatable",!0),this.rowDiffer=o.find({}).create(null),this.colDiffer=o.find({}).create(null)}return t.prototype.ngOnInit=function(){var t=this;this.pageSubscriber=this.state.onPageChange.subscribe(function(e){t.onPageChange.emit({page:e.value,offset:t.state.options.offset,limit:t.state.pageSize,count:t.state.rowCount})}),this.adjustSizes()},t.prototype.ngAfterViewInit=function(){var t=this;this.rowDetailTemplateChild&&(this.state.options.rowDetailTemplate=this.rowDetailTemplateChild.rowDetailTemplate),this.adjustColumns(),this.columns.length&&setTimeout(function(){for(var e=0,n=t.columns.toArray();e<n.length;e++){var o=n[e];t.options.columns.push(new c.TableColumn(o))}})},t.prototype.ngOnChanges=function(t){t.hasOwnProperty("options")&&this.state.setOptions(t.options.currentValue),t.hasOwnProperty("rows")&&this.state.setRows(t.rows.currentValue),t.hasOwnProperty("selected")&&this.state.setSelected(t.selected.currentValue)},t.prototype.ngDoCheck=function(){this.rowDiffer.diff(this.rows)&&(this.state.setRows(this.rows),this.onRowsUpdate.emit(this.rows)),this.checkColumnChanges()},t.prototype.ngOnDestroy=function(){this.pageSubscriber.unsubscribe()},t.prototype.checkColumnChanges=function(){var t=this.colDiffer.diff(this.options.columns);if(t){var e=!1;t.forEachAddedItem(function(){return e=!0,!1}),e||t.forEachRemovedItem(function(){return e=!0,!1}),e&&this.adjustColumns()}},t.prototype.adjustSizes=function(){var t=this.element.getBoundingClientRect(),e=t.height,n=t.width;this.state.innerWidth=Math.floor(n),this.options.scrollbarV&&(this.options.headerHeight&&(e-=this.options.headerHeight),this.options.footerHeight&&(e-=this.options.footerHeight),this.state.bodyHeight=e),this.adjustColumns()},t.prototype.toggleExpandRow=function(t){this.state.toggleRowExpansion(t)},t.prototype.expandAllRows=function(){this.state.toggleAllRows(!0)},t.prototype.collapseAllRows=function(){this.state.toggleAllRows(!1)},t.prototype.adjustColumns=function(t){if(this.options.columns){var e=this.state.innerWidth;this.options.scrollbarV&&(e-=this.state.scrollbarWidth),this.options.columnMode===l.ColumnMode.force?a.forceFillColumnWidths(this.options.columns,e,t):this.options.columnMode===l.ColumnMode.flex&&a.adjustColumnWidths(this.options.columns,e)}},t.prototype.onRowSelect=function(t){this.state.setSelected(t),this.onSelectionChange.emit(t)},t.prototype.resize=function(){this.adjustSizes()},Object.defineProperty(t.prototype,"isFixedHeader",{get:function(){var t=this.options.headerHeight;return"string"!=typeof t||"auto"!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isFixedRow",{get:function(){var t=this.options.rowHeight;return"string"!=typeof t||"auto"!==t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVertScroll",{get:function(){return this.options.scrollbarV},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isHorScroll",{get:function(){return this.options.scrollbarH},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isSelectable",{get:function(){return void 0!==this.options.selectionType},enumerable:!0,configurable:!0}),o([s.Input(),i("design:type",c.TableOptions)],t.prototype,"options",void 0),o([s.Input(),i("design:type",Array)],t.prototype,"rows",void 0),o([s.Input(),i("design:type",Array)],t.prototype,"selected",void 0),o([s.Output(),i("design:type",s.EventEmitter)],t.prototype,"onPageChange",void 0),o([s.Output(),i("design:type",s.EventEmitter)],t.prototype,"onRowsUpdate",void 0),o([s.Output(),i("design:type",s.EventEmitter)],t.prototype,"onRowClick",void 0),o([s.Output(),i("design:type",s.EventEmitter)],t.prototype,"onSelectionChange",void 0),o([s.Output(),i("design:type",s.EventEmitter)],t.prototype,"onColumnChange",void 0),o([s.ContentChildren(p.DataTableColumn),i("design:type",s.QueryList)],t.prototype,"columns",void 0),o([s.ContentChild(d.DatatableRowDetailTemplate),i("design:type",Object)],t.prototype,"rowDetailTemplateChild",void 0),o([s.HostListener("window:resize"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"resize",null),o([s.HostBinding("class.fixed-header"),i("design:type",Object)],t.prototype,"isFixedHeader",null),o([s.HostBinding("class.fixed-row"),i("design:type",Object)],t.prototype,"isFixedRow",null),o([s.HostBinding("class.scroll-vertical"),i("design:type",Object)],t.prototype,"isVertScroll",null),o([s.HostBinding("class.scroll-horz"),i("design:type",Object)],t.prototype,"isHorScroll",null),o([s.HostBinding("class.selectable"),i("design:type",Object)],t.prototype,"isSelectable",null),t=o([s.Component({selector:"datatable",providers:[u.StateService],template:'\n    <div\n      visibility-observer\n      (onVisibilityChange)="adjustSizes()">\n      <datatable-header\n        *ngIf="state.options.headerHeight"\n        (onColumnChange)="onColumnChange.emit($event)">\n      </datatable-header>\n      <datatable-body\n        (onRowClick)="onRowClick.emit($event)"\n        (onRowSelect)="onRowSelect($event)">\n      </datatable-body>\n      <datatable-footer\n         *ngIf="state.options.footerHeight"\n        (onPageChange)="state.setPage($event)">\n      </datatable-footer>\n    </div>\n  '}),r(0,s.Host()),i("design:paramtypes",[u.StateService,s.Renderer,s.ElementRef,s.KeyValueDiffers])],t)}();e.DataTable=h},"./src/components/footer/footer.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/services/index.ts"),a=function(){function t(t,e,n){this.state=e,this.onPageChange=new r.EventEmitter,n.setElementClass(t.nativeElement,"datatable-footer",!0)}return Object.defineProperty(t.prototype,"visible",{get:function(){return this.state.rowCount/this.state.pageSize>1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"curPage",{get:function(){return this.state.options.offset+1},enumerable:!0,configurable:!0}),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onPageChange",void 0),t=o([r.Component({selector:"datatable-footer",template:'\n    <div\n      [style.height]="state.options.footerHeight">\n      <div class="page-count">{{state.rowCount}} total</div>\n      <datatable-pager\n        [page]="curPage"\n        [size]="state.pageSize"\n        [cssClasses]="state.options.cssClasses"\n        (onPaged)="onPageChange.emit($event)"\n        [count]="state.rowCount"\n        [hidden]="!visible">\n       </datatable-pager>\n     </div>\n  '}),i("design:paramtypes",[r.ElementRef,s.StateService,r.Renderer])],t)}();e.DataTableFooter=a},"./src/components/footer/pager.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(t,e){this.size=0,this.onPaged=new r.EventEmitter,e.setElementClass(t.nativeElement,"datatable-pager",!0)}return Object.defineProperty(t.prototype,"count",{get:function(){return this._count},set:function(t){this._count=t,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){this._page=t,this.pages=this.calcPages()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"totalPages",{get:function(){var t=this.size<1?1:Math.ceil(this.count/this.size);return Math.max(t||0,1)},enumerable:!0,configurable:!0}),t.prototype.canPrevious=function(){return this.page>1},t.prototype.canNext=function(){return this.page<this.totalPages},t.prototype.prevPage=function(){this.page>1&&this.selectPage(--this.page)},t.prototype.nextPage=function(){this.selectPage(++this.page)},t.prototype.selectPage=function(t){t>0&&t<=this.totalPages&&(this.page=t,this.onPaged.emit({type:"pager-event",value:t}))},t.prototype.calcPages=function(t){var e=[],n=1,o=this.totalPages,i=5,r=i<this.totalPages;t=t||this.page,r&&(n=(Math.ceil(t/i)-1)*i+1,o=Math.min(n+i-1,this.totalPages));for(var s=n;s<=o;s++)e.push({number:s,text:s});return e},o([r.Input(),i("design:type",Number)],t.prototype,"size",void 0),o([r.Input(),i("design:type",Object)],t.prototype,"cssClasses",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onPaged",void 0),o([r.Input(),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"count",null),o([r.Input(),i("design:type",Object),i("design:paramtypes",[Object])],t.prototype,"page",null),t=o([r.Component({selector:"datatable-pager",template:'\n    <ul class="pager">\n      <li [class.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(1)"\n          class="{{cssClasses.pagerPrevious}}">\n        </a>\n      </li>\n      <li [class.disabled]="!canPrevious()">\n        <a\n          href="javascript:void(0)"\n          (click)="prevPage()"\n          class="{{cssClasses.pagerLeftArrow}}">\n        </a>\n      </li>\n      <li\n        *ngFor="let pg of pages"\n        [class.active]="pg.number === page">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(pg.number)">\n          {{pg.text}}\n        </a>\n      </li>\n      <li [class.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="nextPage()"\n          class="{{cssClasses.pagerRightArrow}}">\n        </a>\n      </li>\n      <li [class.disabled]="!canNext()">\n        <a\n          href="javascript:void(0)"\n          (click)="selectPage(totalPages)"\n          class="{{cssClasses.pagerNext}}">\n        </a>\n      </li>\n    </ul>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}),i("design:paramtypes",[r.ElementRef,r.Renderer])],t)}();e.DataTablePager=s},"./src/components/header/header-cell.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/services/index.ts"),a=n("./src/models/index.ts"),l=n("./src/types/index.ts"),c=function(){function t(t,e,n){this.element=t,this.state=e,this.onColumnChange=new r.EventEmitter,this.sort=this.onSort.bind(this)}return Object.defineProperty(t.prototype,"width",{get:function(){return this.column.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minWidth",{get:function(){return this.column.minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.column.maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.state.options.headerHeight},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"colTitle",{get:function(){return this.name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cssClasses",{get:function(){var t="datatable-header-cell";this.column.sortable&&(t+=" sortable"),this.column.resizeable&&(t+=" resizeable");var e=this.sortDir;return e&&(t+=" sort-active sort-"+e),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortDir",{get:function(){var t=this,e=this.state.options.sorts.find(function(e){return e.prop===t.column.prop});if(e)return e.dir},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.column.name||this.column.prop},enumerable:!0,configurable:!0}),t.prototype.sortClasses=function(t){var e={},n=this.sortDir,o=this.state.options.cssClasses;return n===l.SortDirection.asc?e["sort-asc "+o.sortAscending]=!0:n===l.SortDirection.desc&&(e["sort-desc "+o.sortDescending]=!0),e},t.prototype.onSort=function(){this.column.sortable&&(this.state.nextSort(this.column),
this.onColumnChange.emit({type:"sort",value:this.column}))},o([r.Input(),i("design:type",a.TableColumn)],t.prototype,"column",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onColumnChange",void 0),o([r.HostBinding("style.width.px"),i("design:type",Object)],t.prototype,"width",null),o([r.HostBinding("style.minWidth.px"),i("design:type",Object)],t.prototype,"minWidth",null),o([r.HostBinding("style.maxWidth.px"),i("design:type",Object)],t.prototype,"maxWidth",null),o([r.HostBinding("style.height.px"),i("design:type",Object)],t.prototype,"height",null),o([r.HostBinding("attr.title"),i("design:type",Object)],t.prototype,"colTitle",null),o([r.HostBinding("class"),i("design:type",Object)],t.prototype,"cssClasses",null),t=o([r.Component({selector:"datatable-header-cell",template:'\n    <div>\n      <span\n        class="datatable-header-cell-label draggable"\n        *ngIf="!column.headerTemplate"\n        (click)="onSort()"\n        [innerHTML]="name">\n      </span>\n      <template\n        *ngIf="column.headerTemplate"\n        [ngTemplateOutlet]="column.headerTemplate"\n        [ngOutletContext]="{ column: column, sort: sort }">\n      </template>\n      <span\n        class="sort-btn"\n        [ngClass]="sortClasses()">\n      </span>\n    </div>\n  '}),i("design:paramtypes",[r.ElementRef,s.StateService,r.Renderer])],t)}();e.DataTableHeaderCell=c},"./src/components/header/header.component.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/services/index.ts"),a=n("./src/utils/index.ts"),l=function(){function t(t,e,n){this.state=t,this.onColumnChange=new r.EventEmitter,n.setElementClass(e.nativeElement,"datatable-header",!0)}return Object.defineProperty(t.prototype,"headerWidth",{get:function(){return this.state.options.scrollbarH?this.state.innerWidth+"px":"100%"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"headerHeight",{get:function(){var t=this.state.options.headerHeight;return"auto"!==t?t+"px":t},enumerable:!0,configurable:!0}),t.prototype.trackColBy=function(t,e){return e.$$id},t.prototype.columnResized=function(t,e){t<=e.minWidth?t=e.minWidth:t>=e.maxWidth&&(t=e.maxWidth),e.width=t,this.onColumnChange.emit({type:"resize",value:e})},t.prototype.columnReordered=function(t){var e=t.prevIndex,n=t.newIndex,o=t.model;this.state.options.columns.splice(e,1),this.state.options.columns.splice(n,0,o),this.onColumnChange.emit({type:"reorder",value:o})},t.prototype.stylesByGroup=function(t){var e=this.state.columnGroupWidths,n=this.state.offsetX,o={width:e[t]+"px"};if("center"===t)a.translateXY(o,n*-1,0);else if("right"===t){var i=e.total-this.state.innerWidth,r=i*-1;a.translateXY(o,r,0)}return o},o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onColumnChange",void 0),t=o([r.Component({selector:"datatable-header",template:'\n    <div\n      [style.width]="state.columnGroupWidths.total + \'px\'"\n      class="datatable-header-inner"\n      orderable\n      (onReorder)="columnReordered($event)">\n      <div\n        class="datatable-row-left"\n        [ngStyle]="stylesByGroup(\'left\')"\n        *ngIf="state.columnsByPin.left.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.left; trackBy: trackColBy"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [column]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-center"\n        [ngStyle]="stylesByGroup(\'center\')"\n        *ngIf="state.columnsByPin.center.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.center; trackBy: trackColBy"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [column]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n      <div\n        class="datatable-row-right"\n        [ngStyle]="stylesByGroup(\'right\')"\n        *ngIf="state.columnsByPin.right.length">\n        <datatable-header-cell\n          *ngFor="let column of state.columnsByPin.right; trackBy: trackColBy"\n          resizeable\n          [resizeEnabled]="column.resizeable"\n          (onResize)="columnResized($event, column)"\n          long-press\n          (onLongPress)="drag = true"\n          (onLongPressEnd)="drag = false"\n          draggable\n          [dragX]="column.draggable && drag"\n          [dragY]="false"\n          [column]="column"\n          (onColumnChange)="onColumnChange.emit($event)">\n        </datatable-header-cell>\n      </div>\n    </div>\n  ',host:{"[style.width]":"headerWidth","[style.height]":"headerHeight"}}),i("design:paramtypes",[s.StateService,r.ElementRef,r.Renderer])],t)}();e.DataTableHeader=l},"./src/components/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/components/datatable.component.ts")),o(n("./src/components/datatable-column.directive.ts")),o(n("./src/components/header/header.component.ts")),o(n("./src/components/header/header-cell.component.ts")),o(n("./src/components/body/body.component.ts")),o(n("./src/components/body/body-cell.component.ts")),o(n("./src/components/body/body-row.component.ts")),o(n("./src/components/body/progress-bar.component.ts")),o(n("./src/components/footer/footer.component.ts")),o(n("./src/components/footer/pager.component.ts")),o(n("./src/components/body/body-row-wrapper.component.ts")),o(n("./src/components/datatable-row-detail-template.directive.ts"))},"./src/directives/draggable.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n(1),a=function(){function t(t){this.dragX=!0,this.dragY=!0,this.onDragStart=new r.EventEmitter,this.onDragging=new r.EventEmitter,this.onDragEnd=new r.EventEmitter,this.dragging=!1,this.element=t.nativeElement}return t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.onMouseup=function(t){this.dragging=!1,this.element.classList.remove("dragging"),this.subscription&&(this.subscription.unsubscribe(),this.onDragEnd.emit({event:t,element:this.element,model:this.model}))},t.prototype.onMousedown=function(t){var e=this;if(t.target.classList.contains("draggable")){t.preventDefault(),this.dragging=!0;var n={x:t.clientX,y:t.clientY};this.subscription=s.Observable.fromEvent(document,"mousemove").subscribe(function(t){return e.move(t,n)}),this.onDragStart.emit({event:t,element:this.element,model:this.model})}},t.prototype.move=function(t,e){if(this.dragging){var n=t.clientX-e.x,o=t.clientY-e.y;this.dragX&&(this.element.style.left=n+"px"),this.dragY&&(this.element.style.top=o+"px"),(this.dragX||this.dragY)&&(this.element.classList.add("dragging"),this.onDragging.emit({event:t,element:this.element,model:this.model}))}},o([r.Input(),i("design:type",Object)],t.prototype,"model",void 0),o([r.Input(),i("design:type",Boolean)],t.prototype,"dragX",void 0),o([r.Input(),i("design:type",Boolean)],t.prototype,"dragY",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onDragStart",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onDragging",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onDragEnd",void 0),o([r.HostListener("document:mouseup",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onMouseup",null),o([r.HostListener("mousedown",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onMousedown",null),t=o([r.Directive({selector:"[draggable]"}),i("design:paramtypes",[r.ElementRef])],t)}();e.Draggable=a},"./src/directives/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/directives/draggable.directive.ts")),o(n("./src/directives/long-press.directive.ts")),o(n("./src/directives/orderable.directive.ts")),o(n("./src/directives/resizeable.directive.ts")),o(n("./src/directives/scroller.directive.ts")),o(n("./src/directives/visibility.directive.ts"))},"./src/directives/long-press.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(){this.duration=500,this.onLongPress=new r.EventEmitter,this.onLongPressing=new r.EventEmitter,this.onLongPressEnd=new r.EventEmitter,this.mouseX=0,this.mouseY=0}return Object.defineProperty(t.prototype,"press",{get:function(){return this.pressing},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longPress",{get:function(){return this.longPressing},enumerable:!0,configurable:!0}),t.prototype.onMouseDown=function(t){var e=this;1===t.which&&(this.mouseX=t.clientX,this.mouseY=t.clientY,this.pressing=!0,this.longPressing=!1,this.timeout=setTimeout(function(){e.longPressing=!0,e.onLongPress.emit(t),e.loop(t)},this.duration),this.loop(t))},t.prototype.onMouseMove=function(t){if(this.pressing&&!this.longPressing){var e=t.clientX-this.mouseX>10,n=t.clientY-this.mouseY>10;(e||n)&&this.endPress()}},t.prototype.loop=function(t){var e=this;this.longPressing&&(this.timeout=setTimeout(function(){e.onLongPressing.emit(t),e.loop(t)},50))},t.prototype.endPress=function(){clearTimeout(this.timeout),this.longPressing=!1,this.pressing=!1,this.onLongPressEnd.emit(!0)},t.prototype.onMouseUp=function(){this.endPress()},o([r.Input(),i("design:type",Number)],t.prototype,"duration",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onLongPress",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onLongPressing",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onLongPressEnd",void 0),o([r.HostBinding("class.press"),i("design:type",Object)],t.prototype,"press",null),o([r.HostBinding("class.longpress"),i("design:type",Object)],t.prototype,"longPress",null),o([r.HostListener("mousedown",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onMouseDown",null),o([r.HostListener("mousemove",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onMouseMove",null),o([r.HostListener("mouseup"),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onMouseUp",null),t=o([r.Directive({selector:"[long-press]"}),i("design:paramtypes",[])],t)}();e.LongPress=s},"./src/directives/orderable.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/directives/draggable.directive.ts"),a=function(){function t(){this.onReorder=new r.EventEmitter}return t.prototype.ngAfterContentInit=function(){var t=this;this.drags.forEach(function(e){return e.onDragStart.subscribe(t.onDragStart.bind(t))&&e.onDragEnd.subscribe(t.onDragEnd.bind(t))})},t.prototype.onDragStart=function(){this.positions={};for(var t=0,e=0,n=this.drags.toArray();e<n.length;e++){var o=n[e],i=o.element;this.positions[o.model.prop]={left:parseInt(i.offsetLeft.toString(),0),index:t++}}},t.prototype.onDragEnd=function(t){var e=t.element,n=t.model,o=parseInt(e.offsetLeft.toString(),0),i=this.positions[n.prop],r=0;for(var s in this.positions){var a=this.positions[s],l=o<a.left&&i.left>a.left,c=o>a.left&&i.left<a.left;(l||c)&&this.onReorder.emit({prevIndex:i.index,newIndex:r,model:n}),r++}e.style.left="auto"},o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onReorder",void 0),o([r.ContentChildren(s.Draggable),i("design:type",r.QueryList)],t.prototype,"drags",void 0),t=o([r.Directive({selector:"[orderable]"}),i("design:paramtypes",[])],t)}();e.Orderable=a},"./src/directives/resizeable.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n(1),a=function(){function t(t){if(this.resizeEnabled=!0,this.onResize=new r.EventEmitter,this.resizing=!1,this.element=t.nativeElement,this.resizeEnabled){var e=document.createElement("span");e.classList.add("resize-handle"),this.element.appendChild(e)}}return t.prototype.ngOnDestroy=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.onMouseup=function(){this.resizing=!1,this.subscription&&!this.subscription.closed&&(this.subscription.unsubscribe(),this.onResize.emit(this.element.clientWidth))},t.prototype.onMousedown=function(t){var e=this,n=t.target.classList.contains("resize-handle"),o=this.element.clientWidth,i=t.screenX;n&&(t.stopPropagation(),this.resizing=!0,this.subscription=s.Observable.fromEvent(document,"mousemove").subscribe(function(t){return e.move(t,o,i)}))},t.prototype.move=function(t,e,n){var o=t.screenX-n,i=e+o,r=!this.minWidth||i>=this.minWidth,s=!this.maxWidth||i<=this.maxWidth;r&&s&&(this.element.style.width=i+"px")},o([r.Input(),i("design:type",Boolean)],t.prototype,"resizeEnabled",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"minWidth",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"maxWidth",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onResize",void 0),o([r.HostListener("document:mouseup",["$event"]),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",void 0)],t.prototype,"onMouseup",null),o([r.HostListener("mousedown",["$event"]),i("design:type",Function),i("design:paramtypes",[Object]),i("design:returntype",void 0)],t.prototype,"onMousedown",null),t=o([r.Directive({selector:"[resizeable]",host:{"[class.resizeable]":"resizeEnabled"}}),i("design:paramtypes",[r.ElementRef])],t)}();e.Resizeable=a},"./src/directives/scroller.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=function(){function t(t){this.scrollbarV=!1,this.scrollbarH=!1,this.onScroll=new r.EventEmitter,this.scrollYPos=0,this.scrollXPos=0,this.prevScrollYPos=0,this.prevScrollXPos=0,this.element=t.nativeElement,this.element.classList.add("datatable-scroll")}return t.prototype.ngOnInit=function(){(this.scrollbarV||this.scrollbarH)&&(this.parentElement=this.element.parentElement.parentElement,this.parentElement.addEventListener("scroll",this.onScrolled.bind(this)))},t.prototype.ngOnDestroy=function(){(this.scrollbarV||this.scrollbarH)&&this.parentElement.removeEventListener("scroll")},t.prototype.setOffset=function(t){this.parentElement&&(this.parentElement.scrollTop=t)},t.prototype.onScrolled=function(t){var e=t.currentTarget;this.scrollYPos=e.scrollTop,this.scrollXPos=e.scrollLeft,requestAnimationFrame(this.updateOffset.bind(this))},t.prototype.updateOffset=function(){var t;this.scrollYPos<this.prevScrollYPos?t="down":this.scrollYPos>this.prevScrollYPos&&(t="up"),this.onScroll.emit({direction:t,scrollYPos:this.scrollYPos,scrollXPos:this.scrollXPos}),this.prevScrollYPos=this.scrollYPos,this.prevScrollXPos=this.scrollXPos},o([r.Input(),i("design:type",Number)],t.prototype,"rowHeight",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"count",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"limit",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"scrollWidth",void 0),o([r.Input(),i("design:type",Boolean)],t.prototype,"scrollbarV",void 0),o([r.Input(),i("design:type",Boolean)],t.prototype,"scrollbarH",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onScroll",void 0),o([r.Input(),i("design:type",Number)],t.prototype,"scrollHeight",void 0),t=o([r.Directive({selector:"[scroller]",host:{"[style.height]":'scrollHeight + "px"',"[style.width]":'scrollWidth + "px"'}}),i("design:paramtypes",[r.ElementRef])],t)}();e.Scroller=s},"./src/directives/visibility.directive.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/utils/index.ts"),a=function(){function t(t){this.visible=!1,this.onVisibilityChange=new r.EventEmitter,new s.VisibilityObserver(t.nativeElement,this.visbilityChange.bind(this))}return t.prototype.visbilityChange=function(){var t=this;setTimeout(function(){t.visible=!0,t.onVisibilityChange.emit(!0)})},o([r.HostBinding("class.visible"),i("design:type",Boolean)],t.prototype,"visible",void 0),o([r.Output(),i("design:type",r.EventEmitter)],t.prototype,"onVisibilityChange",void 0),t=o([r.Directive({selector:"[visibility-observer]"}),i("design:paramtypes",[r.ElementRef])],t)}();e.Visibility=a},"./src/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}var i=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=n(0),a=n(2),l=n("./src/components/index.ts"),c=n("./src/directives/index.ts");o(n("./src/types/index.ts")),o(n("./src/models/index.ts")),o(n("./src/components/index.ts"));var p=function(){function t(){}return t=i([s.NgModule({imports:[a.CommonModule],declarations:[c.Visibility,c.Draggable,c.Resizeable,c.Orderable,c.LongPress,c.Scroller,l.DataTable,l.DataTableColumn,l.DataTableHeader,l.DataTableHeaderCell,l.DataTableBody,l.DataTableFooter,l.DataTablePager,l.ProgressBar,l.DataTableBodyRow,l.DataTableRowWrapper,l.DatatableRowDetailTemplate,l.DataTableBodyCell],exports:[l.DataTable,l.DatatableRowDetailTemplate,l.DataTableColumn]}),r("design:paramtypes",[])],t)}();e.Angular2DataTableModule=p},"./src/models/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/models/table-options.model.ts")),o(n("./src/models/table-column.model.ts")),o(n("./src/models/sort.model.ts"))},"./src/models/sort.model.ts":function(t,e){"use strict";var n=function(){function t(t){Object.assign(this,t)}return t}();e.Sort=n},"./src/models/table-column.model.ts":function(t,e,n){"use strict";var o=n("./src/utils/index.ts"),i=function(){function t(t){this.$$id=o.id(),this.isExpressive=!1,this.frozenLeft=!1,this.frozenRight=!1,this.flexGrow=0,this.maxWidth=void 0,this.resizeable=!0,this.comparator=void 0,this.pipe=null,this.sortable=!0,this.draggable=!0,this.canAutoResize=!0,this._width=150,this._minWidth=0,Object.assign(this,t),!this.prop&&this.name&&(this.prop=o.camelCase(this.name)),t&&t.templates&&(this.headerTemplate=t.headerTemplate,this.cellTemplate=t.cellTemplate)}return Object.defineProperty(t.prototype,"minWidth",{get:function(){return this._minWidth},set:function(t){this._minWidth=+t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=+t},enumerable:!0,configurable:!0}),t}();e.TableColumn=i},"./src/models/table-options.model.ts":function(t,e,n){"use strict";var o=n("./src/types/index.ts"),i=function(){function t(t){this.columns=[],this.scrollbarV=!1,this.scrollbarH=!1,this.rowHeight=30,this.detailRowHeight=0,this.columnMode=o.ColumnMode.standard,this.emptyMessage="No data to display",this.headerHeight=30,this.footerHeight=0,this.tableHeight=300,this.externalPaging=!1,this.limit=void 0,this.count=0,this.offset=0,this.loadingIndicator=!1,this.reorderable=!0,this.sortType=o.SortType.single,this.sorts=[],this.cssClasses={sortAscending:"icon-down",sortDescending:"icon-up",pagerLeftArrow:"icon-left",pagerRightArrow:"icon-right",pagerPrevious:"icon-prev",pagerNext:"icon-skip"},Object.assign(this,t),this.validate()}return t.prototype.validate=function(){if(this.scrollbarV===!0&&isNaN(this.rowHeight))throw new Error("Vertical scrolling and auto row height is not support!")},t}();e.TableOptions=i},"./src/services/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/services/state.service.ts"))},"./src/services/state.service.ts":function(t,e,n){"use strict";var o=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},i=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=n(0),s=n("./src/utils/index.ts"),a=n("./src/models/index.ts"),l=n("./src/types/index.ts"),c=n("./src/utils/row-height-cache.ts"),p=function(){function t(){this.rows=[],this.selected=[],this.rowHeightsCache=new c.RowHeightCache,this.onSortChange=new r.EventEmitter,this.onSelectionChange=new r.EventEmitter,this.onRowsUpdate=new r.EventEmitter,this.onPageChange=new r.EventEmitter,this.onExpandChange=new r.EventEmitter,this.scrollbarWidth=s.scrollbarWidth(),this.offsetX=0,this.offsetY=0,this.innerWidth=0,this.bodyHeight=300}return Object.defineProperty(t.prototype,"columnsByPin",{get:function(){return s.columnsByPin(this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnGroupWidths",{get:function(){return s.columnGroupWidths(this.columnsByPin,this.options.columns)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowCount",{get:function(){return this.options.externalPaging?this.options.count:this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scrollHeight",{get:function(){if(this.options.scrollbarV)return this.rowHeightsCache.query(this.rowCount-1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageSize",{get:function(){return this.options.scrollbarV?Math.ceil(this.bodyHeight/this.options.rowHeight):this.options.limit?this.options.limit:this.rows.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"indexes",{get:function(){var t=0,e=0;return this.options.scrollbarV?(t=this.rowHeightsCache.getRowIndex(this.offsetY),e=this.rowHeightsCache.getRowIndex(this.bodyHeight+this.offsetY)+1):(t=Math.max(this.options.offset*this.pageSize,0),e=Math.min(t+this.pageSize,this.rowCount)),{first:t,last:e}},enumerable:!0,configurable:!0}),t.prototype.setSelected=function(t){return this.selected?(this.selected.splice(0,this.selected.length),(e=this.selected).push.apply(e,t)):this.selected=t||[],this.onSelectionChange.emit(this.selected),this;var e},t.prototype.refreshRowHeightCache=function(){this.rowHeightsCache.clearCache(),this.rows.length>0&&this.rowHeightsCache.initCache(this.rows,this.options.rowHeight,this.options.detailRowHeight)},t.prototype.setRows=function(t){return t&&(this.rows=t.slice(),this.options&&this.options.scrollbarV&&this.refreshRowHeightCache(),this.onRowsUpdate.emit(t)),this},t.prototype.setOptions=function(t){return this.options=t,this},t.prototype.setPage=function(t){var e=t.type,n=t.value;this.options.offset=n-1,this.onPageChange.emit({type:e,offset:this.options.offset,limit:this.pageSize,count:this.rowCount})},t.prototype.nextSort=function(t){var e=this.options.sorts.findIndex(function(e){return e.prop===t.prop}),n=this.options.sorts[e],o=void 0;n&&(o=n.dir);var i=s.nextSortDir(this.options.sortType,o);void 0===i?this.options.sorts.splice(e,1):n?this.options.sorts[e].dir=i:(this.options.sortType===l.SortType.single&&this.options.sorts.splice(0,this.options.sorts.length),this.options.sorts.push(new a.Sort({dir:i,prop:t.prop}))),t.comparator?t.comparator(this.rows,this.options.sorts):this.setRows(s.sortRows(this.rows,this.options.sorts)),this.onSortChange.emit({column:t})},t.prototype.getAdjustedViewPortIndex=function(){var t=this.indexes.first;if(this.options.scrollbarV){var e=this.rowHeightsCache.query(t-1);return e<=this.offsetY?t-1:t}return t},t.prototype.toggleRowExpansion=function(t){var e=this.getAdjustedViewPortIndex();if(this.options.scrollbarV){var n=this.options.detailRowHeight*(t.$$expanded?-1:1);this.rowHeightsCache.update(t.$$index,n)}t.$$expanded^=1,this.onExpandChange.emit({rows:[t],currentIndex:e}),this.onRowsUpdate.emit(this.rows)},t.prototype.toggleAllRows=function(t){var e=t?1:0,n=this.getAdjustedViewPortIndex();this.rows.forEach(function(t){t.$$expanded=e}),this.options.scrollbarV&&this.refreshRowHeightCache(),this.onExpandChange.emit({rows:this.rows,currentIndex:n}),this.onRowsUpdate.emit(this.rows)},t=o([r.Injectable(),i("design:paramtypes",[])],t)}();e.StateService=p},"./src/types/click.type.ts":function(t,e){"use strict";!function(t){t[t.single="single"]="single",t[t.double="double"]="double"}(e.ClickType||(e.ClickType={}));e.ClickType},"./src/types/column-mode.type.ts":function(t,e){"use strict";!function(t){t[t.standard="standard"]="standard",t[t.flex="flex"]="flex",t[t.force="force"]="force"}(e.ColumnMode||(e.ColumnMode={}));e.ColumnMode},"./src/types/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/types/column-mode.type.ts")),o(n("./src/types/sort.type.ts")),o(n("./src/types/sort-direction.type.ts")),o(n("./src/types/selection.type.ts")),o(n("./src/types/click.type.ts"))},"./src/types/selection.type.ts":function(t,e){"use strict";!function(t){t[t.single="single"]="single",t[t.multi="multi"]="multi",t[t.multiShift="multiShift"]="multiShift"}(e.SelectionType||(e.SelectionType={}));e.SelectionType},"./src/types/sort-direction.type.ts":function(t,e){"use strict";!function(t){t[t.asc="asc"]="asc",t[t.desc="desc"]="desc"}(e.SortDirection||(e.SortDirection={}));e.SortDirection},"./src/types/sort.type.ts":function(t,e){"use strict";!function(t){t[t.single="single"]="single",t[t.multi="multi"]="multi"}(e.SortType||(e.SortType={}));e.SortType},"./src/utils/camel-case.ts":function(t,e){"use strict";function n(t){return t=t.replace(/[^a-zA-Z0-9 ]/g," "),t=t.replace(/([a-z](?=[A-Z]))/g,"$1 "),t=t.replace(/([^a-zA-Z0-9 ])|^[0-9]+/g,"").trim().toLowerCase(),t=t.replace(/([ 0-9]+)([a-zA-Z])/g,function(t,e,n){return e.trim()+n.toUpperCase()})}e.camelCase=n},"./src/utils/column.ts":function(t,e){"use strict";function n(t){var e={left:[],center:[],right:[]};if(t)for(var n=0,o=t;n<o.length;n++){var i=o[n];i.frozenLeft?e.left.push(i):i.frozenRight?e.right.push(i):e.center.push(i)}return e}function o(t,e){return{left:i(t.left),center:i(t.center),right:i(t.right),total:i(e)}}function i(t,e){var n=0;if(t)for(var o=0,i=t;o<i.length;o++){var r=i[o],s=e&&r[e];n+=s?r[e]:r.width}return n}function r(t,e){for(var n=0,o=0,i=t;o<i.length;o++){var r=i[o],s=e&&r[e];n+=s?r[e]:r.width}return n}e.columnsByPin=n,e.columnGroupWidths=o,e.columnTotalWidth=i,e.columnsTotalWidth=r},"./src/utils/debounce.ts":function(t,e){"use strict";function n(t,e,n){var o,i,r,s,a;return function(){function l(){var c=+new Date-s;c<e?o=setTimeout(l,e-c):(o=null,n||(a=t.apply(r,i)))}r=this,i=arguments,s=new Date;var c=n&&!o;return o||(o=setTimeout(l,e)),c&&(a=t.apply(r,i)),a}}function o(t,e){return function(o,i,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,i,{configurable:!0,enumerable:r.enumerable,value:n(r.value,t,e)}),this[i]}}}}e.debounce=n,e.debounceable=o},"./src/utils/deep-getter.ts":function(t,e){"use strict";function n(t,e){if(!t||!e)return t;var n=t,o=e.split(".");if(o.length)for(var i=0,r=o.length;i<r;i++)n=n[o[i]];return n}e.deepValueGetter=n},"./src/utils/id.ts":function(t,e){"use strict";function n(){return("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)}e.id=n},"./src/utils/index.ts":function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}o(n("./src/utils/id.ts")),o(n("./src/utils/column.ts")),o(n("./src/utils/deep-getter.ts")),o(n("./src/utils/camel-case.ts")),o(n("./src/utils/keys.ts")),o(n("./src/utils/math.ts")),o(n("./src/utils/prefixes.ts")),o(n("./src/utils/scrollbar-width.ts")),o(n("./src/utils/selection.ts")),o(n("./src/utils/translate.ts")),o(n("./src/utils/visibility-observer.ts")),o(n("./src/utils/debounce.ts")),o(n("./src/utils/sort.ts"))},"./src/utils/keys.ts":function(t,e){"use strict";!function(t){t[t.up=38]="up",t[t.down=40]="down",t[t.return=13]="return",t[t.escape=27]="escape"}(e.Keys||(e.Keys={}));e.Keys},"./src/utils/math.ts":function(t,e,n){"use strict";function o(t){for(var e=0,n=0,o=t;n<o.length;n++){var i=o[n];e+=i.flexGrow||0;
}return e}function i(t,e){var n=a.columnsTotalWidth(t),i=o(t),s=a.columnsByPin(t);n!==e&&r(s,e,i)}function r(t,e,n){for(var o in t)for(var i=0,r=t[o];i<r.length;i++){var s=r[i];s.canAutoResize?s.width=0:(e-=s.width,n-=s.flexGrow)}var a={},l=e;do{var c=l/n;l=0;for(var o in t)for(var p=0,u=t[o];p<u.length;p++){var s=u[p];if(s.canAutoResize&&!a[s.prop]){var d=s.width+s.flexGrow*c;void 0!==s.minWidth&&d<s.minWidth?(l+=d-s.minWidth,s.width=s.minWidth,a[s.prop]=!0):s.width=d}}}while(0!==l)}function s(t,e,n){for(var o=0,i=n>-1?t.slice(n,t.length).filter(function(t){return t.canAutoResize}):t.filter(function(t){return t.canAutoResize}),r=0,s=t;r<s.length;r++){var a=s[r];o+=a.canAutoResize?a.$$oldWidth||a.width:a.width}for(var l=e-o,c=l/i.length,p=o>e,u=0,d=i;u<d.length;u++){var a=d[u];if(p)a.width=a.$$oldWidth||a.width;else{a.$$oldWidth||(a.$$oldWidth=a.width);var h=a.$$oldWidth+c;a.minWith&&h<a.minWidth?a.width=a.minWidth:a.maxWidth&&h>a.maxWidth?a.width=a.maxWidth:a.width=h}}}var a=n("./src/utils/column.ts");e.getTotalFlexGrow=o,e.adjustColumnWidths=i,e.forceFillColumnWidths=s},"./src/utils/prefixes.ts":function(t,e,n){"use strict";function o(t){var e=i.camelCase(t);return r[e]||(void 0!==s[a.css+t]?r[e]=a.css+t:void 0!==s[t]&&(r[e]=t)),r[e]}var i=n("./src/utils/camel-case.ts"),r={},s=document.createElement("div").style,a=function(){var t=window.getComputedStyle(document.documentElement,""),e=Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)[1],n="WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1];return{dom:n,lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}}();e.getVendorPrefixedName=o},"./src/utils/row-height-cache.ts":function(t,e){"use strict";var n=function(){function t(){this._treeArray=[]}return t.prototype.clearCache=function(){this._treeArray=[]},t.prototype.initCache=function(t,e,n){if(isNaN(e))throw new Error("Row Height cache initialization failed. Please ensure that 'rowHeight' is a\n        valid number value: ("+e+") when 'scrollbarV' is enabled.");if(isNaN(n))throw new Error("Row Height cache initialization failed. Please ensure that 'detailRowHeight' is a\n        valid number value: ("+n+") when 'scrollbarV' is enabled.");var o=t.length;this._treeArray=new Array(o);for(var i=0;i<o;++i)this._treeArray[i]=0;for(var i=0;i<o;++i){var r=e;1===t[i].$$expanded&&(r+=n),this.update(i,r)}},t.prototype.getRowIndex=function(t){return 0===t?0:this._getRowIndex(t)},t.prototype.update=function(t,e){if(0===this._treeArray.length)throw new Error("Update at index "+t+" with value "+e+" failed:\n        Row Height cache not initialized.");var n=this._treeArray.length;for(t|=0;t<n;)this._treeArray[t]+=e,t|=t+1},t.prototype.query=function(t){if(0===this._treeArray.length)throw new Error("query at index "+t+" failed: Fenwick tree array not initialized. ");var e=0;for(t|=0;t>=0;)e+=this._treeArray[t],t=(t&t+1)-1;return e},t.prototype.queryBetween=function(t,e){return this.query(e)-this.query(t-1)},t.prototype._getRowIndex=function(t){if(0===this._treeArray.length)return 0;for(var e=-1,n=this._treeArray.length,o=Math.pow(2,n.toString(2).length-1),i=o;0!==i;i>>=1){var r=e+i;r<n&&t>=this._treeArray[r]&&(t-=this._treeArray[r],e=r)}return e+1},t}();e.RowHeightCache=n},"./src/utils/scrollbar-width.ts":function(t,e){"use strict";function n(){var t=document.createElement("div");t.style.visibility="hidden",t.style.width="100px",t.style.msOverflowStyle="scrollbar",document.body.appendChild(t);var e=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%",t.appendChild(n);var o=n.offsetWidth;return t.parentNode.removeChild(t),e-o}e.scrollbarWidth=n},"./src/utils/selection.ts":function(t,e){"use strict";function n(t,e){var n=t.indexOf(e);return n>-1?t.splice(n,1):t.push(e),t}function o(t,e,n,o){for(var i=n<o,r=0,s=e.length;r<s;r++){var a=e[r],l=r>=o&&r<=n,c=r<=o&&r>=n,p={start:0,end:0};if(p=i?{start:n,end:o-n}:{start:o,end:n+1},i&&c||!i&&l){var u=t.indexOf(a);if(i&&u>-1){t.splice(u,1);continue}r>=p.start&&r<p.end&&u===-1&&t.push(a)}}return t}e.selectRows=n,e.selectRowsBetween=o},"./src/utils/sort.ts":function(t,e,n){"use strict";function o(t,e){return t===s.SortType.single?e===s.SortDirection.asc?s.SortDirection.desc:s.SortDirection.asc:e?e===s.SortDirection.asc?s.SortDirection.desc:void(e===s.SortDirection.desc):s.SortDirection.asc}function i(t,e){if(null!==t&&"undefined"!=typeof t||(t=0),null!==e&&"undefined"!=typeof e||(e=0),isNaN(parseFloat(t))||!isFinite(t)||isNaN(parseFloat(e))||!isFinite(e)){if(t=String(t),e=String(e),t.toLowerCase()<e.toLowerCase())return-1;if(t.toLowerCase()>e.toLowerCase())return 1}else{if(parseFloat(t)<parseFloat(e))return-1;if(parseFloat(t)>parseFloat(e))return 1}return 0}function r(t,e){var n=t.slice();return n.sort(function(t,n){for(var o=0,r=e;o<r.length;o++){var l=r[o],c=l.prop,p=l.dir,u=a.deepValueGetter(t,c),d=a.deepValueGetter(n,c),h=p!==s.SortDirection.desc?i(u,d):-i(u,d);if(0!==h)return h}return 0})}var s=n("./src/types/index.ts"),a=n("./src/utils/deep-getter.ts");e.nextSortDir=o,e.orderByComparator=i,e.sortRows=r},"./src/utils/translate.ts":function(t,e,n){"use strict";function o(t,e,n){l?!u&&c?(t[s]="translate3d("+e+"px, "+n+"px, 0)",t[a]="hidden"):t[r.camelCase(s)]="translate("+e+"px, "+n+"px)":(t.top=n+"px",t.left=e+"px")}var i=n("./src/utils/prefixes.ts"),r=n("./src/utils/camel-case.ts"),s=i.getVendorPrefixedName("transform"),a=i.getVendorPrefixedName("backfaceVisibility"),l=!!i.getVendorPrefixedName("transform"),c=!!i.getVendorPrefixedName("perspective"),p=window.navigator.userAgent,u=/Safari\//.test(p)&&!/Chrome\//.test(p);e.translateXY=o},"./src/utils/visibility-observer.ts":function(t,e){"use strict";var n=function(){function t(t,e){this.callback=e,this.runPolyfill(t)}return t.prototype.runPolyfill=function(t){var e=this,n=function(){var o=t.getBoundingClientRect(),i=o.width,r=o.height;i&&r?e.callback&&e.callback():setTimeout(function(){return n()},10)};n()},t.prototype.isVisible=function(t,e){return e.width*e.height/(t.width*t.height)>=.5},t.prototype.visibleTimerCallback=function(t,e){delete t.visibleTimeout,this.processChanges(e.takeRecords()),"isVisible"in t&&(delete t.isVisible,this.callback&&this.callback(),e.unobserve(t))},t.prototype.processChanges=function(t){var e=this;t.forEach(function(t){var n=t.target;n.isVisible=e.isVisible(t.boundingClientRect,t.intersectionRect),"isVisible"in n?n.visibleTimeout=setTimeout(e.visibleTimerCallback.bind(e),1e3,n,e.observer):"visibleTimeout"in n&&(clearTimeout(n.visibleTimeout),delete n.visibleTimeout)})},t}();e.VisibilityObserver=n},0:function(t,n){t.exports=e},1:function(t,e){t.exports=n},2:function(e,n){e.exports=t}})});
//# sourceMappingURL=release/index.js.map